{"version":3,"sources":["../../src/generators/component/index.js"],"names":["pascalCase","require","VulcanGenerator","module","exports","initializing","_assertIsVulcan","_assertHasNonZeroPackages","inputProps","prompting","_canPrompt","firstQuestions","_getPackageNameListQuestion","prompt","then","answers","props","packageName","_filterPackageName","_assertPackageHasNonZeroModules","secondQuestions","_getModuleNameListQuestion","type","name","message","when","componentName","choices","value","componentType","isRegister","_packageHasNonZeroModules","Promise","reject","Object","assign","moduleName","componentPath","_getComponentsPath","isAbsolute","_getReactExtension","templatePath","_assertModuleIsExists","configuring","_canConfigure","_commitStore","writing","_canWrite","fs","copyTpl","end","_end"],"mappings":"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","file":"index.js","sourcesContent":["const pascalCase = require('pascal-case');\nconst VulcanGenerator = require('../../lib/VulcanGenerator');\n\nmodule.exports = class extends VulcanGenerator {\n  initializing () {\n    this._assertIsVulcan();\n    this._assertHasNonZeroPackages();\n    this.inputProps = {};\n  }\n\n  prompting () {\n    if (!this._canPrompt()) { return false; }\n    const firstQuestions = [\n      this._getPackageNameListQuestion(),\n    ];\n\n    return this.prompt(firstQuestions)\n    .then((answers) => {\n      this.props = {\n        packageName: this._filterPackageName(this.inputProps.packageName || answers.packageName),\n      };\n      this._assertPackageHasNonZeroModules(this.props.packageName);\n      const secondQuestions = [\n        this._getModuleNameListQuestion(),\n        {\n          type: 'input',\n          name: 'componentName',\n          message: 'Component name',\n          when: () => (!this.inputProps.componentName),\n        },\n        {\n          type: 'list',\n          name: 'componentType',\n          message: 'Component type',\n          choices: [\n            { name: 'Pure Function', value: 'pure' },\n            { name: 'Class Component', value: 'class' },\n          ],\n          when: () => (!this.inputProps.componentType),\n        },\n        {\n          type: 'confirm',\n          name: 'isRegister',\n          message: 'Register component',\n          when: () => (!this.inputProps.isRegister),\n        },\n      ];\n      if (this._packageHasNonZeroModules(this.props.packageName)) {\n        return this.prompt(secondQuestions);\n      }\n      return Promise.reject('noModulesInPackage');\n    })\n    .then((answers) => {\n      this.props = Object.assign(\n        {},\n        this.props,\n        {\n          moduleName: this.inputProps.moduleName || answers.moduleName,\n          componentName: pascalCase(this.inputProps.componentName || answers.componentName),\n          componentType: this.inputProps.componentType || answers.componentType,\n          isRegister: this.inputProps.isRegister || answers.isRegister,\n        }\n      );\n      this.props.componentPath = this._getComponentsPath(\n        { isAbsolute: true },\n        this.props.moduleName,\n        `${this.props.componentName}.${this._getReactExtension()}`\n      );\n      this.props.templatePath = this.props.componentType === 'pure' ?\n        this.templatePath('pureFunctionComponent.js') :\n        this.templatePath('classComponent.js');\n      this._assertModuleIsExists(this.props.packageName, this.props.moduleName);\n    }, () => {});\n  }\n\n  configuring () {\n    if (!this._canConfigure()) { return; }\n    this._commitStore();\n  }\n\n  writing () {\n    if (!this._canWrite()) { return; }\n    this.fs.copyTpl(\n      this.props.templatePath,\n      this.props.componentPath,\n      this.props\n    );\n  }\n\n  end () {\n    this._end();\n  }\n};\n"]}